{% set current_template = self._TemplateReference__context.name %}
{% extends "base.html" %}
{% block css %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='fonts/fontawesome-all.min.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/Pretty-Search-Form-.css') }}" />
{% endblock css %}
{% block title %} Agregar Disciplina {% endblock title %}

<body>
{% block content %}
  {% include "flashes.html" %}
    <section class="d-flex align-items-center justify-content-center align-self-center own_flex_column" id="searchHeader">
    {% include "search.html" %}
    </section>
  <section style="margin: 43px">
      <table id="example" class="table table-striped table-bordered own_main_table" cellspacing="0" width="100%">
        <thead>
          <tr class="own_table_header">
            <th class="own_small-col">Nombre</th>
            <th class="own_small-col">Categoría</th>
            <th class="own_small-col">Instructores</th>
            <th class="own_small-col">Días y horarios</th>
            <th class="own_small-col">Costo mensual</th>
            <th class="own_small-col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for discipline in disciplines %}
          <tr class="own_centered">
            <td> {{ discipline.name }} </td>
            <td> {{ discipline.category }} </td>
            <td> {{ discipline.instructors }} </td>
            <td> {{ discipline.dates }} </td>
            <td> {{ discipline.monthly_cost }} {{ discipline.currency }} </td>
            <td class="own_options_section">
              {% if discipline in associate.disciplines and has_permission(session["user"],"associate_remove_discip") %}
                  <form action="{{ url_for('associate.delete_discipline', id=associate.id,discipline_id=discipline.id) }}" method="post">
                      <button class="btn btn-outline-danger w-100 p-1 own_options_button" style="border-radius: 5px" name="Update"
                          value="{{ discipline.id }}">
                          Dejar disciplina
                      </button>
                  </form>
              {% elif has_permission(session["user"],"associate_add_discip") %}
                  <form action="{{ url_for('associate.register_discipline', id=associate.id,discipline_id=discipline.id) }}" method="post">
                      <button class="btn btn-outline-info w-100 p-1 own_options_button" style="border-radius: 5px" name="Update"
                          value="{{ discipline.id }}">
                          Inscribirse a Disciplina
                      </button>
                  </form>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% if has_permission(session["user"],"associate_index") %}
      <a href="{{ url_for('associate.index')}}" class="d-flex justify-content-center" >
        <button class="btn btn-primary" type="button" style="margin: 10px" data-toggle="modal" data-target="#modalAddDiscipline">
          Volver al listado
        </button>
      </a>
      {%endif%}
    </section>


  {% endblock content%}
</body>
