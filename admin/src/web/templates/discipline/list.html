{% set current_template = self._TemplateReference__context.name %} 
{% extends "base.html" %} 
      {% block css %}
      {{ super() }}
        <link rel="stylesheet" href="{{ url_for('static', filename='fonts/fontawesome-all.min.css') }}" />
        <link rel="stylesheet" href="{{ url_for('static', filename='css/Pretty-Search-Form-.css') }}"  />
      {% endblock css %} 
    {% block title %} Disciplinas {% endblock title %}
    <body
      style="
        /*background: url(&quot;design.jpg&quot;);*/
        background-position: 0 -60px;
        margin: 0px;
      ">
      {% block content %}
      <section
        class="d-flex d-xxl-flex justify-content-center justify-content-sm-center justify-content-md-center justify-content-lg-center justify-content-xl-center justify-content-xxl-center"
        style="display: flex; margin: 43px;">
        <a href="{{ url_for('discipline.get_add') }}">
        <button
          class="btn btn-primary"
          type="button"
          style="
            width: auto;
            border-radius: 5px;
            font-size: 20px;
            padding: -28.4px 32px;
            margin: 37px;
          ">
          Agregar Disciplinas
        </button>
       </a>
        <form action="{{ url_for('discipline.index') }}" class="search-form" style="box-shadow: 0px 0px" method="GET">
          <div class="input-group">
            <span class="input-group-text" style="border-radius: 5px 0px 0px 5px"
              ><i class="fa fa-search"></i></span
            ><input
              class="form-control"
              type="text"
              placeholder="Buscar disciplina" /><button
              class="btn btn-light"
              type="button"
              style="
                border-style: solid;
                border-top-color: rgb(182, 195, 205);
                border-right-color: rgb(182, 195, 205);
                border-bottom-color: rgb(182, 195, 205);
                border-left-color: rgb(182, 195, 205);
              ">
              Buscar
            </button>
          </div>
        </form>
      </section>
      {% include "flashes.html" %}
      <section style="margin: 43px">
        <table
          id="example"
          class="table table-striped table-bordered"
          cellspacing="0"
          width="100%">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Categoría</th>
              <th>Instructores</th>
              <th>Días y horarios</th>
              <th>Costo mensual</th>
              <th>Disponible</th>
            </tr>
          </thead>
          <tbody>
            {% for discipline in disciplines %}
              <tr>
                <td> {{ discipline.name }} </td>
                <td> {{ discipline.category }} </td>
                <td> {{ discipline.instructors }} </td>
                <td> {{ discipline.dates }} </td>
                <td> {{ discipline.monthly_cost }} </td>
                <td> {{ "Si" if discipline.available else "No" }} </td>
                </td>
                
                <td>
                  <a href="{{ url_for('discipline.update', id=discipline.id) }}">
                    <button
                      class = "btn btn-outline-info w-100 p-1"
                      style = "border-radius: 5px"
                      name = "Update"
                      value ="{{ discipline.id }}">
                      Modificar
                    </button>
                  </a>
                </td>
              <td>
                <form action="{{ url_for('discipline.delete', id=discipline.id) }}" method="post" >
                      <button
                          type="submit"
                          class="btn btn-outline-danger w-100 p-1"
                          style="border-radius: 5px"
                          name = "Delete"
                          value="{{ discipline.id }}"
                          onclick="return confirm('Seguro que desea eliminar {{ discipline.name }} {{ discipline.category }} ?');">
                          Eliminar
                      </button>
                  </form>
              </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </section>
        {% include "paginator.html"%}


      {% endblock content%}
      {% block js %}
        <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js"></script>
      {{ super() }}
      {% endblock js %}
    </body>